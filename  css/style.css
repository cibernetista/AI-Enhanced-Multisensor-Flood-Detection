/* VARIABLES REFINADAS para un look m√°s profesional */
:root{
  --brand:#117161; /* Verde */
  --accent-1:#d00000; /* Rojo/High */
  --accent-2:#ffb703; /* Amarillo/Medium */
  --accent-3:#8ecae6; /* Azul/Low */
  
  --bg:#f9fbfb;
  --bg-soft:#f0f5f5;
  --ink:#1a1c1d;
  --card:#ffffff;
  --muted:#6b7280;
  --border:#e5e7eb;
  --shadow:0 4px 12px rgba(0,0,0,.06);
  
  --radius:12px;
}
body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:15px}
.app-bg{background:
  radial-gradient(circle at 10% 5%, var(--bg-soft) 0, transparent 20%),
  radial-gradient(circle at 90% 0%, var(--bg-soft) 0, transparent 30%)
}
header{
  position:sticky;top:0;z-index:50;background:rgba(255,255,255,0.8);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);
}
.wrap{max-width:1200px;margin:0 auto;padding:12px 16px;display:flex;gap:12px;align-items:center}
.title{font-weight:700;font-size:22px;color:var(--brand)}
.badge{background:var(--brand);color:#fff;border-radius:999px;padding:2px 10px;font-size:12px;margin-left:8px;font-weight:600}
.grow{flex:1}
.btn{
  border:1px solid var(--border);background:#fff;border-radius:8px;padding:8px 12px;font-weight:500;cursor:pointer;
  transition:background 0.2s, border-color 0.2s;
}
.btn.primary{background:var(--brand);color:#fff;border-color:transparent}
.btn.primary:hover{background:#0e5a4d}
.btn.ghost{background:transparent;border-color:transparent}
.btn:disabled{opacity:.6;cursor:not-allowed}
.input, select{height:38px;border:1px solid var(--border);border-radius:8px;padding:0 10px;background:#fff}
.switch{display:inline-flex;align-items:center;gap:8px;font-size:14px;color:var(--muted)}

main{max-width:1200px;margin:24px auto;padding:0 16px;display:grid;grid-template-columns:2.2fr 1fr;gap:24px}
@media (max-width: 960px){ main{grid-template-columns:1fr;gap:16px} }

.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
.card h3{margin:0;padding:14px;border-bottom:1px solid var(--border);font-size:16px;font-weight:600;display:flex;align-items:center;gap:8px}
.card .content{padding:14px}

/* Map */
#map{width:100%;height:480px;border-radius:0 0 var(--radius) var(--radius)}
/* Leyenda mejorada */
.legend{
  position:absolute; right:12px; top:12px; z-index:400; background:#fff; 
  border:1px solid var(--border); border-radius:8px; padding:10px; font-size:13px; box-shadow:0 1px 4px rgba(0,0,0,.1);
}
.legend div{display:flex;align-items:center;margin-bottom:4px}
.dot{width:12px;height:12px;border-radius:999px;display:inline-block;margin-right:8px}

/* KPI */
.kpis{display:grid;grid-template-columns:repeat(3, 1fr);gap:16px}
@media (max-width: 520px){ .kpis{grid-template-columns:1fr} }
.kpi .big{font-size:28px;font-weight:700;margin-top:2px}
.kpi .muted{font-size:13px;color:var(--muted)}

/* Alerts list */
.notif{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid var(--border)}
.notif:last-child{border-bottom:none;padding-bottom:0}
.chip{border-radius:999px;padding:3px 10px;font-size:12px;font-weight:600;line-height:1}
.chip.high{background:var(--accent-1);color:#fff;}
.chip.medium{background:#fef3c7;color:#92400e;}
.chip.low{background:#eff6ff;color:#1e40af;}

/* Table */
table{width:100%;border-collapse:collapse;font-size:14px}
th{font-weight:600}
th,td{border-bottom:1px solid var(--border);padding:10px 8px;text-align:left}
tbody tr:hover{background:#f9fafb}

/* Dialog */
dialog{border:none;border-radius:16px;width:min(520px,90%);padding:20px;}
dialog::backdrop{background:rgba(0,0,0,.4)}
dialog h3{font-size:18px;margin-bottom:12px}